"use strict";(self.webpackChunkanalise_funcional=self.webpackChunkanalise_funcional||[]).push([[74],{7074:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});var r=n(2791),a=n(1413),i=n(3433),o=n(9439),l=n(63),c=n(1541),d=n(662),s=n(5581),u=n(7309),p=n(3695),f=n(5947),y=n(6023),x=(n(2144),n(5671)),h=n(3144),m=n(2426),j=n.n(m),v="payload_checker_saves",k=new(function(){function e(){(0,x.Z)(this,e),j().locale(this.__handleLocation())}return(0,h.Z)(e,[{key:"__handleLocation",value:function(){var e,t=null===(e=window.navigator)||void 0===e?void 0:e.language;return null!==t&&void 0!==t?t:"pt-BR"}},{key:"newFormatedDate",value:function(e){return j()().format(e)}}]),e}());function b(){return localStorage.getItem(v)}var g=n(4261),Z=n(6784),w=n(184),N=function(e){var t=e.buttonText,n=e.buttonType,a=e.buttonDanger,i=e.modalTitle,l=e.modalText,c=e.confirmAction,d=(0,r.useState)(!1),s=(0,o.Z)(d,2),p=s[0],f=s[1];return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(u.Z,{type:n,danger:a,onClick:function(){f(!0)},children:t}),(0,w.jsx)(Z.Z,{title:i,open:p,onOk:function(){c(),f(!1)},onCancel:function(){f(!1)},children:(0,w.jsx)("p",{children:l})})]})},_=n(4045);var S=n(2365);var R=function(){var e=(0,r.useContext)(C),t=(e.projectId,e.propList);return e.payloadChecked,(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(u.Z,{style:{margin:"10px"},type:"primary",onClick:function(){!function(e){var t="Name;Type;Description;Fill rule;Required\n";e.forEach((function(e){t+="".concat(e.propertyName,";").concat(e.type,";").concat(e.description,";").concat(e.fillRule,";").concat(e.required,"\n")}));var n=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),a=URL.createObjectURL(n);r.href=a,r.setAttribute("download","payload-checker.csv"),r.click()}(t)},children:[(0,w.jsx)(S.Z,{}),"Export to CSV"]}),(0,w.jsxs)(u.Z,{style:{margin:"10px"},type:"primary",onClick:function(){!function(e){var t=e.map((function(e){return{Name:e.propertyName,Type:e.type,Description:e.description,"Fill rule":e.fillRule,Required:e.required}})),n=_.P6.json_to_sheet(t),r=_.P6.book_new();_.P6.book_append_sheet(r,n,"Sheet1");var a=_.cW(r,{type:"buffer",bookType:"xlsx"}),i=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8;"}),o=URL.createObjectURL(i),l=document.createElement("a");l.href=o,l.setAttribute("download","payload-checker.xlsx"),l.click()}(t)},children:[(0,w.jsx)(S.Z,{}),"Export to XLSX"]}),(0,w.jsxs)(u.Z,{style:{margin:"10px"},type:"primary",onClick:function(){!function(e){var t="Name\tType\tDescription\tFill rule\tRequired\n";e.forEach((function(e){t+="".concat(e.propertyName,"\t").concat(e.type,"\t").concat(e.description,"\t").concat(e.fillRule,"\t").concat(e.required,"\n")}));var n=new Blob([t],{type:"text/plain;charset=utf-8;"}),r=document.createElement("a"),a=URL.createObjectURL(n);r.href=a,r.setAttribute("download","payload-checker.txt"),r.click()}(t)},children:[(0,w.jsx)(S.Z,{}),"Export to TXT"]})]})},I=l.Z.Panel,C=(0,r.createContext)(null);var T=function(){var e=(0,r.useState)(),t=(0,o.Z)(e,2),n=t[0],x=t[1],h=c.Z.useForm(),m=(0,o.Z)(h,1)[0],j=(0,r.useState)(""),Z=(0,o.Z)(j,2),_=Z[0],S=Z[1],T=(0,r.useState)({}),q=(0,o.Z)(T,2),F=q[0],P=q[1],D=(0,r.useState)([]),A=(0,o.Z)(D,2),E=A[0],L=A[1];(0,r.useEffect)((function(){E.length&&F&&function(){var e=(0,g.Z)();_||S(e);!function(e){var t,n=b(),r=k.newFormatedDate("DD-MM-yyyy hh:mm:ss");if(n){var a=(t=JSON.parse(n)).projects.find((function(t){return t.uuid===e.uuid}));a&&(t.projects=t.projects.filter((function(e){return e.uuid!==a.uuid}))),e.last_update=r,t.projects.push(e)}else e.created_at=r,e.last_update=r,t={created_at:r,projects:[e]};t.selectedProject=e.uuid,t.last_update=r,localStorage.setItem(v,JSON.stringify(t))}({uuid:_||e,payload_checked:F,prop_list:E})}()}),[E,F]),(0,r.useEffect)((function(){var e=JSON.parse(b());if(null!==e&&void 0!==e&&e.selectedProject){var t=e.projects.find((function(t){return t.uuid===e.selectedProject}));P(t.payload_checked),L(t.prop_list)}}),[]);var O=[{title:"Name",dataIndex:"propertyName",key:"propertyName",render:function(e,t){return n===t.key?(0,w.jsx)(c.Z.Item,{name:"propertyName",children:(0,w.jsx)(d.Z,{className:"editable-cell"})}):e}},{title:"Type",dataIndex:"type",key:"type",render:function(e,t){return n===t.key?(0,w.jsx)(c.Z.Item,{name:"type",children:(0,w.jsx)(d.Z,{className:"editable-cell"})}):e}},{title:"Description",dataIndex:"description",key:"description",render:function(e,t){return n===t.key?(0,w.jsx)(c.Z.Item,{name:"description",children:(0,w.jsx)(d.Z,{className:"editable-cell"})}):e}},{title:"Fill rule",dataIndex:"fillRule",key:"fillRule",render:function(e,t){return n===t.key?(0,w.jsx)(c.Z.Item,{name:"fillRule",children:(0,w.jsx)(d.Z,{className:"editable-cell"})}):e}},{title:"Required",dataIndex:"required",key:"required",render:function(e,t){return(0,w.jsx)(c.Z.Item,{name:"required",children:(0,w.jsx)(s.Z,{style:{marginTop:"20px"},defaultChecked:!0,onChange:function(e){!function(e,t){var r=E.find((function(t){return t.key===e}));r.required=t;var a=E.findIndex((function(e){return e.key===n})),o=(0,i.Z)(E);o[a]=r,L(o)}(t.key,e),m.setFieldValue("required",e)}})})}},{title:"Actions",dataIndex:"validated",key:"validated",render:function(e,t){return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(u.Z,{type:"link",onClick:function(){x(t.key),m.setFieldsValue({propertyName:t.propertyName,type:t.type,description:t.description,fillRule:t.fillRule,required:t.required})},children:"Edit"}),(0,w.jsx)(u.Z,{type:"link",htmlType:"submit",children:"Save"})]})}}];function B(e,t){e?p.ZP.success(t):p.ZP.error(t)}function J(e,t){var n=t;for(var r in e){var i=U(e[r]),o=0==r;"object"===i||"array"===i?(n.push({propertyName:o?"-- start --":"".concat(r," (START)"),type:i,description:"",required:!0,fillRule:"",validated:!1}),J(e[r],n),n.push({propertyName:o?"-- end --":"".concat(r," (END)"),type:i,description:"",required:!0,fillRule:"",validated:!1})):n.push({propertyName:r,type:i,description:"",required:!0,fillRule:"",validated:!1})}return n.map((function(e,t){return(0,a.Z)({key:t+1},e)}))}function U(e){return Array.isArray(e)?"array":""===e?"string":0===e?"number":e?typeof e:"null"}return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(C.Provider,{value:{projectId:_,propList:E,payloadChecked:F},children:[E.length?(0,w.jsx)("div",{className:"animate__animated animate__fadeInLeft",style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"end",paddingRight:"20px"},children:(0,w.jsxs)("div",{children:[(0,w.jsx)(R,{}),(0,w.jsx)(N,{buttonText:"Delete Project",buttonType:"primary",buttonDanger:!0,modalTitle:"Delete current project",modalText:"Confirm to delete current project",confirmAction:function(){!function(e){var t=JSON.parse(b());console.log("# Client Storage Save:"),console.log(t),t&&(t.projects=t.projects.filter((function(t){return t.uuid!==e})),t.selectedProject=null,localStorage.setItem(v,JSON.stringify(t)))}(_),S(""),P({}),L([]),B(!0,"Project deleted")}})]})}):(0,w.jsx)(w.Fragment,{}),(0,w.jsx)(c.Z,{form:m,onFinish:function(e){var t=E.find((function(e){return e.key===n})),r=(0,a.Z)((0,a.Z)({},t),e),o=E.findIndex((function(e){return e.key===n})),l=(0,i.Z)(E);l[o]=r,L(l),x(null)},children:E.length?(0,w.jsx)("div",{className:"animate__animated animate__fadeInLeft",style:{margin:"10px 20px 20px 20px"},children:(0,w.jsx)(f.Z,{rowClassName:function(e,t){return e.required?"":"not-required-row"},dataSource:E,columns:O,sticky:!0,pagination:!1,scroll:{y:"50vh"},bordered:!1,size:"small",style:{boxShadow:"0px 0px 10px 0px rgb(34 34 34 / 15%)",fontSize:"5px"}})}):(0,w.jsx)(w.Fragment,{})}),(0,w.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between",padding:"20px",paddingBottom:"0px"},children:[(0,w.jsx)(c.Z,{name:"payloadAnalyzed",onFinish:function(e){var t=e.payloadInput;try{var n=function(e){try{return JSON.parse(e)}catch(t){throw"Not a valid payload"}}(t),r=function(e){var t=Array.isArray(e)?e.slice(0,1):e;for(var n in t){"array"===U(t[n])&&t[n].length>0&&(t[n]=t[n].slice(0,1))}return t}(n),a=J(r,[]);P(r),L((0,i.Z)(a)),B(!0,"Payload checked")}catch(o){B(!1,o)}},style:{width:"80%"},children:(0,w.jsx)("div",{style:{width:"100%"},children:(0,w.jsx)(l.Z,{className:"collapse-wrapper",defaultActiveKey:["1"],style:{backgroundColor:"rgb(16,16,16,0.85)",border:"none",borderBottom:"20px",borderRadius:"10px",boxShadow:"0px 0px 10px 0px rgb(34 34 34 / 15%)"},children:(0,w.jsxs)(I,{header:"Payload to be checked",style:{border:"none"},children:[(0,w.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"left",padding:"15px",paddingTop:"0"},children:(0,w.jsx)("span",{children:"Enter the payload to be checked below, all payload fields will be detailed."})}),(0,w.jsx)(c.Z.Item,{name:"payloadInput",children:(0,w.jsx)(y.Z,{placeholder:"Paste a valid payload to be checked.",style:{resize:"none",border:"none",maxHeight:"200px",minHeight:"200px",overflowY:"scroll",borderRadius:"5px",boxShadow:"0px 0px 10px 0px rgb(34 34 34 / 5%)"}})}),(0,w.jsx)(c.Z.Item,{style:{marginBottom:"5px"},children:(0,w.jsx)(u.Z,{style:{width:"100%",height:"50px",boxShadow:"0px 0px 10px 0px rgb(34 34 34 / 20%)"},type:"primary",htmlType:"submit",children:(0,w.jsx)("strong",{children:"Check Payload"})})})]},"1")})})}),(0,w.jsx)("div",{style:{width:"100%"}})]})]})})};var q=function(){return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(T,{})})}}}]);
//# sourceMappingURL=74.a81a1b6c.chunk.js.map